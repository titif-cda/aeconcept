/*!
 * storyblok-js-client v0.0.0-development
 * Universal JavaScript SDK for Storyblok's API
 * (c) 2020-2022 Stobylok Team
 */
import t from"axios";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},r.exports),r.exports}var n=function(t){return t&&t.Math==Math&&t},o=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")(),i=function(t){try{return!!t()}catch(t){return!0}},a=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),c={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,s={f:u&&!c.call({1:2},1)?function(t){var e=u(this,t);return!!e&&e.enumerable}:c},f=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},l={}.toString,p=function(t){return l.call(t).slice(8,-1)},h="".split,v=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==p(t)?h.call(t,""):Object(t)}:Object,g=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},d=function(t){return v(g(t))},y=function(t){return"object"==typeof t?null!==t:"function"==typeof t},m=function(t,e){if(!y(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!y(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!y(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!y(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},b={}.hasOwnProperty,w=function(t,e){return b.call(t,e)},x=o.document,O=y(x)&&y(x.createElement),k=function(t){return O?x.createElement(t):{}},S=!a&&!i((function(){return 7!=Object.defineProperty(k("div"),"a",{get:function(){return 7}}).a})),E=Object.getOwnPropertyDescriptor,j={f:a?E:function(t,e){if(t=d(t),e=m(e,!0),S)try{return E(t,e)}catch(t){}if(w(t,e))return f(!s.f.call(t,e),t[e])}},P=function(t){if(!y(t))throw TypeError(String(t)+" is not an object");return t},T=Object.defineProperty,_={f:a?T:function(t,e,r){if(P(t),e=m(e,!0),P(r),S)try{return T(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},A=a?function(t,e,r){return _.f(t,e,f(1,r))}:function(t,e,r){return t[e]=r,t},R=function(t,e){try{A(o,t,e)}catch(r){o[t]=e}return e},L=o["__core-js_shared__"]||R("__core-js_shared__",{}),I=Function.toString;"function"!=typeof L.inspectSource&&(L.inspectSource=function(t){return I.call(t)});var C,M,N,D=L.inspectSource,F=o.WeakMap,U="function"==typeof F&&/native code/.test(D(F)),G=r((function(t){(t.exports=function(t,e){return L[t]||(L[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),$=0,q=Math.random(),V=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++$+q).toString(36)},B=G("keys"),z=function(t){return B[t]||(B[t]=V(t))},Y={},H=o.WeakMap;if(U){var K=new H,W=K.get,J=K.has,X=K.set;C=function(t,e){return X.call(K,t,e),e},M=function(t){return W.call(K,t)||{}},N=function(t){return J.call(K,t)}}else{var Q=z("state");Y[Q]=!0,C=function(t,e){return A(t,Q,e),e},M=function(t){return w(t,Q)?t[Q]:{}},N=function(t){return w(t,Q)}}var Z,tt={set:C,get:M,has:N,enforce:function(t){return N(t)?M(t):C(t,{})},getterFor:function(t){return function(e){var r;if(!y(e)||(r=M(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}},et=r((function(t){var e=tt.get,r=tt.enforce,n=String(String).split("String");(t.exports=function(t,e,i,a){var c=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,s=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof e||w(i,"name")||A(i,"name",e),r(i).source=n.join("string"==typeof e?e:"")),t!==o?(c?!s&&t[e]&&(u=!0):delete t[e],u?t[e]=i:A(t,e,i)):u?t[e]=i:R(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||D(this)}))})),rt=o,nt=function(t){return"function"==typeof t?t:void 0},ot=function(t,e){return arguments.length<2?nt(rt[t])||nt(o[t]):rt[t]&&rt[t][e]||o[t]&&o[t][e]},it=Math.ceil,at=Math.floor,ct=function(t){return isNaN(t=+t)?0:(t>0?at:it)(t)},ut=Math.min,st=function(t){return t>0?ut(ct(t),9007199254740991):0},ft=Math.max,lt=Math.min,pt=function(t,e){var r=ct(t);return r<0?ft(r+e,0):lt(r,e)},ht=function(t){return function(e,r,n){var o,i=d(e),a=st(i.length),c=pt(n,a);if(t&&r!=r){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((t||c in i)&&i[c]===r)return t||c||0;return!t&&-1}},vt={includes:ht(!0),indexOf:ht(!1)},gt=vt.indexOf,dt=function(t,e){var r,n=d(t),o=0,i=[];for(r in n)!w(Y,r)&&w(n,r)&&i.push(r);for(;e.length>o;)w(n,r=e[o++])&&(~gt(i,r)||i.push(r));return i},yt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],mt=yt.concat("length","prototype"),bt={f:Object.getOwnPropertyNames||function(t){return dt(t,mt)}},wt={f:Object.getOwnPropertySymbols},xt=ot("Reflect","ownKeys")||function(t){var e=bt.f(P(t)),r=wt.f;return r?e.concat(r(t)):e},Ot=function(t,e){for(var r=xt(e),n=_.f,o=j.f,i=0;i<r.length;i++){var a=r[i];w(t,a)||n(t,a,o(e,a))}},kt=/#|\.prototype\./,St=function(t,e){var r=jt[Et(t)];return r==Tt||r!=Pt&&("function"==typeof e?i(e):!!e)},Et=St.normalize=function(t){return String(t).replace(kt,".").toLowerCase()},jt=St.data={},Pt=St.NATIVE="N",Tt=St.POLYFILL="P",_t=St,At=j.f,Rt=function(t,e){var r,n,i,a,c,u=t.target,s=t.global,f=t.stat;if(r=s?o:f?o[u]||R(u,{}):(o[u]||{}).prototype)for(n in e){if(a=e[n],i=t.noTargetGet?(c=At(r,n))&&c.value:r[n],!_t(s?n:u+(f?".":"#")+n,t.forced)&&void 0!==i){if(typeof a==typeof i)continue;Ot(a,i)}(t.sham||i&&i.sham)&&A(a,"sham",!0),et(r,n,a,t)}},Lt=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())})),It=Lt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ct=Array.isArray||function(t){return"Array"==p(t)},Mt=function(t){return Object(g(t))},Nt=Object.keys||function(t){return dt(t,yt)},Dt=a?Object.defineProperties:function(t,e){P(t);for(var r,n=Nt(e),o=n.length,i=0;o>i;)_.f(t,r=n[i++],e[r]);return t},Ft=ot("document","documentElement"),Ut=z("IE_PROTO"),Gt=function(){},$t=function(t){return"<script>"+t+"<\/script>"},qt=function(){try{Z=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;qt=Z?function(t){t.write($t("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Z):((e=k("iframe")).style.display="none",Ft.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write($t("document.F=Object")),t.close(),t.F);for(var r=yt.length;r--;)delete qt.prototype[yt[r]];return qt()};Y[Ut]=!0;var Vt=Object.create||function(t,e){var r;return null!==t?(Gt.prototype=P(t),r=new Gt,Gt.prototype=null,r[Ut]=t):r=qt(),void 0===e?r:Dt(r,e)},Bt=bt.f,zt={}.toString,Yt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ht={f:function(t){return Yt&&"[object Window]"==zt.call(t)?function(t){try{return Bt(t)}catch(t){return Yt.slice()}}(t):Bt(d(t))}},Kt=G("wks"),Wt=o.Symbol,Jt=It?Wt:Wt&&Wt.withoutSetter||V,Xt=function(t){return w(Kt,t)||(Lt&&w(Wt,t)?Kt[t]=Wt[t]:Kt[t]=Jt("Symbol."+t)),Kt[t]},Qt={f:Xt},Zt=_.f,te=_.f,ee=Xt("toStringTag"),re=function(t,e,r){t&&!w(t=r?t:t.prototype,ee)&&te(t,ee,{configurable:!0,value:e})},ne=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},oe=function(t,e,r){if(ne(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}},ie=Xt("species"),ae=function(t,e){var r;return Ct(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!Ct(r.prototype)?y(r)&&null===(r=r[ie])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)},ce=[].push,ue=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,a=5==t||i;return function(c,u,s,f){for(var l,p,h=Mt(c),g=v(h),d=oe(u,s,3),y=st(g.length),m=0,b=f||ae,w=e?b(c,y):r?b(c,0):void 0;y>m;m++)if((a||m in g)&&(p=d(l=g[m],m,h),t))if(e)w[m]=p;else if(p)switch(t){case 3:return!0;case 5:return l;case 6:return m;case 2:ce.call(w,l)}else if(o)return!1;return i?-1:n||o?o:w}},se={forEach:ue(0),map:ue(1),filter:ue(2),some:ue(3),every:ue(4),find:ue(5),findIndex:ue(6)},fe=se.forEach,le=z("hidden"),pe=Xt("toPrimitive"),he=tt.set,ve=tt.getterFor("Symbol"),ge=Object.prototype,de=o.Symbol,ye=ot("JSON","stringify"),me=j.f,be=_.f,we=Ht.f,xe=s.f,Oe=G("symbols"),ke=G("op-symbols"),Se=G("string-to-symbol-registry"),Ee=G("symbol-to-string-registry"),je=G("wks"),Pe=o.QObject,Te=!Pe||!Pe.prototype||!Pe.prototype.findChild,_e=a&&i((function(){return 7!=Vt(be({},"a",{get:function(){return be(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=me(ge,e);n&&delete ge[e],be(t,e,r),n&&t!==ge&&be(ge,e,n)}:be,Ae=function(t,e){var r=Oe[t]=Vt(de.prototype);return he(r,{type:"Symbol",tag:t,description:e}),a||(r.description=e),r},Re=It?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof de},Le=function(t,e,r){t===ge&&Le(ke,e,r),P(t);var n=m(e,!0);return P(r),w(Oe,n)?(r.enumerable?(w(t,le)&&t[le][n]&&(t[le][n]=!1),r=Vt(r,{enumerable:f(0,!1)})):(w(t,le)||be(t,le,f(1,{})),t[le][n]=!0),_e(t,n,r)):be(t,n,r)},Ie=function(t,e){P(t);var r=d(e),n=Nt(r).concat(De(r));return fe(n,(function(e){a&&!Ce.call(r,e)||Le(t,e,r[e])})),t},Ce=function(t){var e=m(t,!0),r=xe.call(this,e);return!(this===ge&&w(Oe,e)&&!w(ke,e))&&(!(r||!w(this,e)||!w(Oe,e)||w(this,le)&&this[le][e])||r)},Me=function(t,e){var r=d(t),n=m(e,!0);if(r!==ge||!w(Oe,n)||w(ke,n)){var o=me(r,n);return!o||!w(Oe,n)||w(r,le)&&r[le][n]||(o.enumerable=!0),o}},Ne=function(t){var e=we(d(t)),r=[];return fe(e,(function(t){w(Oe,t)||w(Y,t)||r.push(t)})),r},De=function(t){var e=t===ge,r=we(e?ke:d(t)),n=[];return fe(r,(function(t){!w(Oe,t)||e&&!w(ge,t)||n.push(Oe[t])})),n};if(Lt||(et((de=function(){if(this instanceof de)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=V(t),r=function(t){this===ge&&r.call(ke,t),w(this,le)&&w(this[le],e)&&(this[le][e]=!1),_e(this,e,f(1,t))};return a&&Te&&_e(ge,e,{configurable:!0,set:r}),Ae(e,t)}).prototype,"toString",(function(){return ve(this).tag})),et(de,"withoutSetter",(function(t){return Ae(V(t),t)})),s.f=Ce,_.f=Le,j.f=Me,bt.f=Ht.f=Ne,wt.f=De,Qt.f=function(t){return Ae(Xt(t),t)},a&&(be(de.prototype,"description",{configurable:!0,get:function(){return ve(this).description}}),et(ge,"propertyIsEnumerable",Ce,{unsafe:!0}))),Rt({global:!0,wrap:!0,forced:!Lt,sham:!Lt},{Symbol:de}),fe(Nt(je),(function(t){!function(t){var e=rt.Symbol||(rt.Symbol={});w(e,t)||Zt(e,t,{value:Qt.f(t)})}(t)})),Rt({target:"Symbol",stat:!0,forced:!Lt},{for:function(t){var e=String(t);if(w(Se,e))return Se[e];var r=de(e);return Se[e]=r,Ee[r]=e,r},keyFor:function(t){if(!Re(t))throw TypeError(t+" is not a symbol");if(w(Ee,t))return Ee[t]},useSetter:function(){Te=!0},useSimple:function(){Te=!1}}),Rt({target:"Object",stat:!0,forced:!Lt,sham:!a},{create:function(t,e){return void 0===e?Vt(t):Ie(Vt(t),e)},defineProperty:Le,defineProperties:Ie,getOwnPropertyDescriptor:Me}),Rt({target:"Object",stat:!0,forced:!Lt},{getOwnPropertyNames:Ne,getOwnPropertySymbols:De}),Rt({target:"Object",stat:!0,forced:i((function(){wt.f(1)}))},{getOwnPropertySymbols:function(t){return wt.f(Mt(t))}}),ye){var Fe=!Lt||i((function(){var t=de();return"[null]"!=ye([t])||"{}"!=ye({a:t})||"{}"!=ye(Object(t))}));Rt({target:"JSON",stat:!0,forced:Fe},{stringify:function(t,e,r){for(var n,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);if(n=e,(y(e)||void 0!==t)&&!Re(t))return Ct(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Re(e))return e}),o[1]=e,ye.apply(null,o)}})}de.prototype[pe]||A(de.prototype,pe,de.prototype.valueOf),re(de,"Symbol"),Y[le]=!0;var Ue,Ge,$e=function(t,e,r){var n=m(e);n in t?_.f(t,n,f(0,r)):t[n]=r},qe=ot("navigator","userAgent")||"",Ve=o.process,Be=Ve&&Ve.versions,ze=Be&&Be.v8;ze?Ge=(Ue=ze.split("."))[0]+Ue[1]:qe&&(!(Ue=qe.match(/Edge\/(\d+)/))||Ue[1]>=74)&&(Ue=qe.match(/Chrome\/(\d+)/))&&(Ge=Ue[1]);var Ye=Ge&&+Ge,He=Xt("species"),Ke=function(t){return Ye>=51||!i((function(){var e=[];return(e.constructor={})[He]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},We=Xt("isConcatSpreadable"),Je=Ye>=51||!i((function(){var t=[];return t[We]=!1,t.concat()[0]!==t})),Xe=Ke("concat"),Qe=function(t){if(!y(t))return!1;var e=t[We];return void 0!==e?!!e:Ct(t)};Rt({target:"Array",proto:!0,forced:!Je||!Xe},{concat:function(t){var e,r,n,o,i,a=Mt(this),c=ae(a,0),u=0;for(e=-1,n=arguments.length;e<n;e++)if(Qe(i=-1===e?a:arguments[e])){if(u+(o=st(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<o;r++,u++)r in i&&$e(c,u,i[r])}else{if(u>=9007199254740991)throw TypeError("Maximum allowed index exceeded");$e(c,u++,i)}return c.length=u,c}});var Ze=Object.defineProperty,tr={},er=function(t){throw t},rr=function(t,e){if(w(tr,t))return tr[t];e||(e={});var r=[][t],n=!!w(e,"ACCESSORS")&&e.ACCESSORS,o=w(e,0)?e[0]:er,c=w(e,1)?e[1]:void 0;return tr[t]=!!r&&!i((function(){if(n&&!a)return!0;var t={length:-1};n?Ze(t,1,{enumerable:!0,get:er}):t[1]=1,r.call(t,o,c)}))},nr=se.filter,or=Ke("filter"),ir=rr("filter");Rt({target:"Array",proto:!0,forced:!or||!ir},{filter:function(t){return nr(this,t,arguments.length>1?arguments[1]:void 0)}});var ar=function(t,e){var r=[][t];return!!r&&i((function(){r.call(null,e||function(){throw 1},1)}))},cr=se.forEach,ur=ar("forEach"),sr=rr("forEach"),fr=ur&&sr?[].forEach:function(t){return cr(this,t,arguments.length>1?arguments[1]:void 0)};Rt({target:"Array",proto:!0,forced:[].forEach!=fr},{forEach:fr});var lr=vt.indexOf,pr=[].indexOf,hr=!!pr&&1/[1].indexOf(1,-0)<0,vr=ar("indexOf"),gr=rr("indexOf",{ACCESSORS:!0,1:0});Rt({target:"Array",proto:!0,forced:hr||!vr||!gr},{indexOf:function(t){return hr?pr.apply(this,arguments)||0:lr(this,t,arguments.length>1?arguments[1]:void 0)}});var dr=[].join,yr=v!=Object,mr=ar("join",",");Rt({target:"Array",proto:!0,forced:yr||!mr},{join:function(t){return dr.call(d(this),void 0===t?",":t)}});var br=Ke("slice"),wr=rr("slice",{ACCESSORS:!0,0:0,1:2}),xr=Xt("species"),Or=[].slice,kr=Math.max;Rt({target:"Array",proto:!0,forced:!br||!wr},{slice:function(t,e){var r,n,o,i=d(this),a=st(i.length),c=pt(t,a),u=pt(void 0===e?a:e,a);if(Ct(i)&&("function"!=typeof(r=i.constructor)||r!==Array&&!Ct(r.prototype)?y(r)&&null===(r=r[xr])&&(r=void 0):r=void 0,r===Array||void 0===r))return Or.call(i,c,u);for(n=new(void 0===r?Array:r)(kr(u-c,0)),o=0;c<u;c++,o++)c in i&&$e(n,o,i[c]);return n.length=o,n}});var Sr=Object.assign,Er=Object.defineProperty,jr=!Sr||i((function(){if(a&&1!==Sr({b:1},Sr(Er({},"a",{enumerable:!0,get:function(){Er(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach((function(t){e[t]=t})),7!=Sr({},t)[r]||Nt(Sr({},e)).join("")!=n}))?function(t,e){for(var r=Mt(t),n=arguments.length,o=1,i=wt.f,c=s.f;n>o;)for(var u,f=v(arguments[o++]),l=i?Nt(f).concat(i(f)):Nt(f),p=l.length,h=0;p>h;)u=l[h++],a&&!c.call(f,u)||(r[u]=f[u]);return r}:Sr;Rt({target:"Object",stat:!0,forced:Object.assign!==jr},{assign:jr});var Pr=j.f,Tr=i((function(){Pr(1)}));Rt({target:"Object",stat:!0,forced:!a||Tr,sham:!a},{getOwnPropertyDescriptor:function(t,e){return Pr(d(t),e)}}),Rt({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){for(var e,r,n=d(t),o=j.f,i=xt(n),a={},c=0;i.length>c;)void 0!==(r=o(n,e=i[c++]))&&$e(a,e,r);return a}});var _r=i((function(){Nt(1)}));Rt({target:"Object",stat:!0,forced:_r},{keys:function(t){return Nt(Mt(t))}});var Ar={};Ar[Xt("toStringTag")]="z";var Rr="[object z]"===String(Ar),Lr=Xt("toStringTag"),Ir="Arguments"==p(function(){return arguments}()),Cr=Rr?p:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Lr))?r:Ir?p(e):"Object"==(n=p(e))&&"function"==typeof e.callee?"Arguments":n},Mr=Rr?{}.toString:function(){return"[object "+Cr(this)+"]"};Rr||et(Object.prototype,"toString",Mr,{unsafe:!0});var Nr=s.f,Dr=function(t){return function(e){for(var r,n=d(e),o=Nt(n),i=o.length,c=0,u=[];i>c;)r=o[c++],a&&!Nr.call(n,r)||u.push(t?[r,n[r]]:n[r]);return u}},Fr={entries:Dr(!0),values:Dr(!1)}.values;Rt({target:"Object",stat:!0},{values:function(t){return Fr(t)}});var Ur=o.Promise,Gr=Xt("species"),$r=function(t){var e=ot(t),r=_.f;a&&e&&!e[Gr]&&r(e,Gr,{configurable:!0,get:function(){return this}})},qr={},Vr=Xt("iterator"),Br=Array.prototype,zr=Xt("iterator"),Yr=function(t,e,r,n){try{return n?e(P(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&P(o.call(t)),e}},Hr=r((function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,r,n,o,i){var a,c,u,s,f,l,p,h,v=oe(r,n,o?2:1);if(i)a=t;else{if("function"!=typeof(c=function(t){if(null!=t)return t[zr]||t["@@iterator"]||qr[Cr(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(h=c)&&(qr.Array===h||Br[Vr]===h)){for(u=0,s=st(t.length);s>u;u++)if((f=o?v(P(p=t[u])[0],p[1]):v(t[u]))&&f instanceof e)return f;return new e(!1)}a=c.call(t)}for(l=a.next;!(p=l.call(a)).done;)if("object"==typeof(f=Yr(a,v,p.value,o))&&f&&f instanceof e)return f;return new e(!1)}).stop=function(t){return new e(!0,t)}})),Kr=Xt("iterator"),Wr=!1;try{var Jr=0,Xr={next:function(){return{done:!!Jr++}},return:function(){Wr=!0}};Xr[Kr]=function(){return this},Array.from(Xr,(function(){throw 2}))}catch(t){}var Qr,Zr,tn,en=Xt("species"),rn=function(t,e){var r,n=P(t).constructor;return void 0===n||null==(r=P(n)[en])?e:ne(r)},nn=/(iphone|ipod|ipad).*applewebkit/i.test(qe),on=o.location,an=o.setImmediate,cn=o.clearImmediate,un=o.process,sn=o.MessageChannel,fn=o.Dispatch,ln=0,pn={},hn=function(t){if(pn.hasOwnProperty(t)){var e=pn[t];delete pn[t],e()}},vn=function(t){return function(){hn(t)}},gn=function(t){hn(t.data)},dn=function(t){o.postMessage(t+"",on.protocol+"//"+on.host)};an&&cn||(an=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return pn[++ln]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},Qr(ln),ln},cn=function(t){delete pn[t]},"process"==p(un)?Qr=function(t){un.nextTick(vn(t))}:fn&&fn.now?Qr=function(t){fn.now(vn(t))}:sn&&!nn?(tn=(Zr=new sn).port2,Zr.port1.onmessage=gn,Qr=oe(tn.postMessage,tn,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||i(dn)||"file:"===on.protocol?Qr="onreadystatechange"in k("script")?function(t){Ft.appendChild(k("script")).onreadystatechange=function(){Ft.removeChild(this),hn(t)}}:function(t){setTimeout(vn(t),0)}:(Qr=dn,o.addEventListener("message",gn,!1)));var yn,mn,bn,wn,xn,On,kn,Sn,En={set:an,clear:cn},jn=j.f,Pn=En.set,Tn=o.MutationObserver||o.WebKitMutationObserver,_n=o.process,An=o.Promise,Rn="process"==p(_n),Ln=jn(o,"queueMicrotask"),In=Ln&&Ln.value;In||(yn=function(){var t,e;for(Rn&&(t=_n.domain)&&t.exit();mn;){e=mn.fn,mn=mn.next;try{e()}catch(t){throw mn?wn():bn=void 0,t}}bn=void 0,t&&t.enter()},Rn?wn=function(){_n.nextTick(yn)}:Tn&&!nn?(xn=!0,On=document.createTextNode(""),new Tn(yn).observe(On,{characterData:!0}),wn=function(){On.data=xn=!xn}):An&&An.resolve?(kn=An.resolve(void 0),Sn=kn.then,wn=function(){Sn.call(kn,yn)}):wn=function(){Pn.call(o,yn)});var Cn,Mn,Nn,Dn,Fn=In||function(t){var e={fn:t,next:void 0};bn&&(bn.next=e),mn||(mn=e,wn()),bn=e},Un=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=ne(e),this.reject=ne(r)},Gn={f:function(t){return new Un(t)}},$n=function(t,e){if(P(t),y(e)&&e.constructor===t)return e;var r=Gn.f(t);return(0,r.resolve)(e),r.promise},qn=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Vn=En.set,Bn=Xt("species"),zn="Promise",Yn=tt.get,Hn=tt.set,Kn=tt.getterFor(zn),Wn=Ur,Jn=o.TypeError,Xn=o.document,Qn=o.process,Zn=ot("fetch"),to=Gn.f,eo=to,ro="process"==p(Qn),no=!!(Xn&&Xn.createEvent&&o.dispatchEvent),oo=_t(zn,(function(){if(!(D(Wn)!==String(Wn))){if(66===Ye)return!0;if(!ro&&"function"!=typeof PromiseRejectionEvent)return!0}if(Ye>=51&&/native code/.test(Wn))return!1;var t=Wn.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[Bn]=e,!(t.then((function(){}))instanceof e)})),io=oo||!function(t,e){if(!e&&!Wr)return!1;var r=!1;try{var n={};n[Kr]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r}((function(t){Wn.all(t).catch((function(){}))})),ao=function(t){var e;return!(!y(t)||"function"!=typeof(e=t.then))&&e},co=function(t,e,r){if(!e.notified){e.notified=!0;var n=e.reactions;Fn((function(){for(var o=e.value,i=1==e.state,a=0;n.length>a;){var c,u,s,f=n[a++],l=i?f.ok:f.fail,p=f.resolve,h=f.reject,v=f.domain;try{l?(i||(2===e.rejection&&lo(t,e),e.rejection=1),!0===l?c=o:(v&&v.enter(),c=l(o),v&&(v.exit(),s=!0)),c===f.promise?h(Jn("Promise-chain cycle")):(u=ao(c))?u.call(c,p,h):p(c)):h(o)}catch(t){v&&!s&&v.exit(),h(t)}}e.reactions=[],e.notified=!1,r&&!e.rejection&&so(t,e)}))}},uo=function(t,e,r){var n,i;no?((n=Xn.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),o.dispatchEvent(n)):n={promise:e,reason:r},(i=o["on"+t])?i(n):"unhandledrejection"===t&&function(t,e){var r=o.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))}("Unhandled promise rejection",r)},so=function(t,e){Vn.call(o,(function(){var r,n=e.value;if(fo(e)&&(r=qn((function(){ro?Qn.emit("unhandledRejection",n,t):uo("unhandledrejection",t,n)})),e.rejection=ro||fo(e)?2:1,r.error))throw r.value}))},fo=function(t){return 1!==t.rejection&&!t.parent},lo=function(t,e){Vn.call(o,(function(){ro?Qn.emit("rejectionHandled",t):uo("rejectionhandled",t,e.value)}))},po=function(t,e,r,n){return function(o){t(e,r,o,n)}},ho=function(t,e,r,n){e.done||(e.done=!0,n&&(e=n),e.value=r,e.state=2,co(t,e,!0))},vo=function(t,e,r,n){if(!e.done){e.done=!0,n&&(e=n);try{if(t===r)throw Jn("Promise can't be resolved itself");var o=ao(r);o?Fn((function(){var n={done:!1};try{o.call(r,po(vo,t,n,e),po(ho,t,n,e))}catch(r){ho(t,n,r,e)}})):(e.value=r,e.state=1,co(t,e,!1))}catch(r){ho(t,{done:!1},r,e)}}};oo&&(Wn=function(t){!function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation")}(this,Wn,zn),ne(t),Cn.call(this);var e=Yn(this);try{t(po(vo,this,e),po(ho,this,e))}catch(t){ho(this,e,t)}},(Cn=function(t){Hn(this,{type:zn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(t,e,r){for(var n in e)et(t,n,e[n],r);return t}(Wn.prototype,{then:function(t,e){var r=Kn(this),n=to(rn(this,Wn));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=ro?Qn.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&co(this,r,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),Mn=function(){var t=new Cn,e=Yn(t);this.promise=t,this.resolve=po(vo,t,e),this.reject=po(ho,t,e)},Gn.f=to=function(t){return t===Wn||t===Nn?new Mn(t):eo(t)},"function"==typeof Ur&&(Dn=Ur.prototype.then,et(Ur.prototype,"then",(function(t,e){var r=this;return new Wn((function(t,e){Dn.call(r,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof Zn&&Rt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return $n(Wn,Zn.apply(o,arguments))}}))),Rt({global:!0,wrap:!0,forced:oo},{Promise:Wn}),re(Wn,zn,!1),$r(zn),Nn=ot(zn),Rt({target:zn,stat:!0,forced:oo},{reject:function(t){var e=to(this);return e.reject.call(void 0,t),e.promise}}),Rt({target:zn,stat:!0,forced:oo},{resolve:function(t){return $n(this,t)}}),Rt({target:zn,stat:!0,forced:io},{all:function(t){var e=this,r=to(e),n=r.resolve,o=r.reject,i=qn((function(){var r=ne(e.resolve),i=[],a=0,c=1;Hr(t,(function(t){var u=a++,s=!1;i.push(void 0),c++,r.call(e,t).then((function(t){s||(s=!0,i[u]=t,--c||n(i))}),o)})),--c||n(i)}));return i.error&&o(i.value),r.promise},race:function(t){var e=this,r=to(e),n=r.reject,o=qn((function(){var o=ne(e.resolve);Hr(t,(function(t){o.call(e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}});var go=function(){var t=P(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function yo(t,e){return RegExp(t,e)}var mo={UNSUPPORTED_Y:i((function(){var t=yo("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:i((function(){var t=yo("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},bo=RegExp.prototype.exec,wo=String.prototype.replace,xo=bo,Oo=function(){var t=/a/,e=/b*/g;return bo.call(t,"a"),bo.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),ko=mo.UNSUPPORTED_Y||mo.BROKEN_CARET,So=void 0!==/()??/.exec("")[1];(Oo||So||ko)&&(xo=function(t){var e,r,n,o,i=this,a=ko&&i.sticky,c=go.call(i),u=i.source,s=0,f=t;return a&&(-1===(c=c.replace("y","")).indexOf("g")&&(c+="g"),f=String(t).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==t[i.lastIndex-1])&&(u="(?: "+u+")",f=" "+f,s++),r=new RegExp("^(?:"+u+")",c)),So&&(r=new RegExp("^"+u+"$(?!\\s)",c)),Oo&&(e=i.lastIndex),n=bo.call(a?r:i,f),a?n?(n.input=n.input.slice(s),n[0]=n[0].slice(s),n.index=i.lastIndex,i.lastIndex+=n[0].length):i.lastIndex=0:Oo&&n&&(i.lastIndex=i.global?n.index+n[0].length:e),So&&n&&n.length>1&&wo.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n});var Eo=xo;Rt({target:"RegExp",proto:!0,forced:/./.exec!==Eo},{exec:Eo});var jo=Xt("species"),Po=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),To="$0"==="a".replace(/./,"$0"),_o=Xt("replace"),Ao=!!/./[_o]&&""===/./[_o]("a","$0"),Ro=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),Lo=function(t,e,r,n){var o=Xt(t),a=!i((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),c=a&&!i((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[jo]=function(){return r},r.flags="",r[o]=/./[o]),r.exec=function(){return e=!0,null},r[o](""),!e}));if(!a||!c||"replace"===t&&(!Po||!To||Ao)||"split"===t&&!Ro){var u=/./[o],s=r(o,""[t],(function(t,e,r,n,o){return e.exec===Eo?a&&!o?{done:!0,value:u.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:To,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Ao}),f=s[0],l=s[1];et(String.prototype,t,f),et(RegExp.prototype,o,2==e?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)})}n&&A(RegExp.prototype[o],"sham",!0)},Io=Xt("match"),Co=function(t){var e;return y(t)&&(void 0!==(e=t[Io])?!!e:"RegExp"==p(t))},Mo=function(t){return function(e,r){var n,o,i=String(g(e)),a=ct(r),c=i.length;return a<0||a>=c?t?"":void 0:(n=i.charCodeAt(a))<55296||n>56319||a+1===c||(o=i.charCodeAt(a+1))<56320||o>57343?t?i.charAt(a):n:t?i.slice(a,a+2):o-56320+(n-55296<<10)+65536}},No={codeAt:Mo(!1),charAt:Mo(!0)},Do=No.charAt,Fo=function(t,e,r){return e+(r?Do(t,e).length:1)},Uo=function(t,e){var r=t.exec;if("function"==typeof r){var n=r.call(t,e);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==p(t))throw TypeError("RegExp#exec called on incompatible receiver");return Eo.call(t,e)},Go=[].push,$o=Math.min,qo=!i((function(){return!RegExp(4294967295,"y")}));Lo("split",2,(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=String(g(this)),o=void 0===r?4294967295:r>>>0;if(0===o)return[];if(void 0===t)return[n];if(!Co(t))return e.call(n,t,o);for(var i,a,c,u=[],s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,l=new RegExp(t.source,s+"g");(i=Eo.call(l,n))&&!((a=l.lastIndex)>f&&(u.push(n.slice(f,i.index)),i.length>1&&i.index<n.length&&Go.apply(u,i.slice(1)),c=i[0].length,f=a,u.length>=o));)l.lastIndex===i.index&&l.lastIndex++;return f===n.length?!c&&l.test("")||u.push(""):u.push(n.slice(f)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var o=g(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,o,r):n.call(String(o),e,r)},function(t,o){var i=r(n,t,this,o,n!==e);if(i.done)return i.value;var a=P(t),c=String(this),u=rn(a,RegExp),s=a.unicode,f=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(qo?"y":"g"),l=new u(qo?a:"^(?:"+a.source+")",f),p=void 0===o?4294967295:o>>>0;if(0===p)return[];if(0===c.length)return null===Uo(l,c)?[c]:[];for(var h=0,v=0,g=[];v<c.length;){l.lastIndex=qo?v:0;var d,y=Uo(l,qo?c:c.slice(v));if(null===y||(d=$o(st(l.lastIndex+(qo?0:v)),c.length))===h)v=Fo(c,v,s);else{if(g.push(c.slice(h,v)),g.length===p)return g;for(var m=1;m<=y.length-1;m++)if(g.push(y[m]),g.length===p)return g;v=h=d}}return g.push(c.slice(h)),g}]}),!qo);var Vo={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var Bo in Vo){var zo=o[Bo],Yo=zo&&zo.prototype;if(Yo&&Yo.forEach!==fr)try{A(Yo,"forEach",fr)}catch(t){Yo.forEach=fr}}var Ho=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t};var Ko=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n};var Wo=function(t){if(Array.isArray(t))return Ko(t)};var Jo=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)};var Xo=function(t,e){if(t){if("string"==typeof t)return Ko(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ko(t,e):void 0}};var Qo=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var Zo=function(t){return Wo(t)||Jo(t)||Xo(t)||Qo()},ti=r((function(t){var e=function(t){var e,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new T(n||[]);return i._invoke=function(t,e,r){var n=l;return function(o,i){if(n===h)throw new Error("Generator is already running");if(n===v){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var u=f(t,e,r);if("normal"===u.type){if(n=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=v,r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l="suspendedStart",p="suspendedYield",h="executing",v="completed",g={};function d(){}function y(){}function m(){}var b={};b[i]=function(){return this};var w=Object.getPrototypeOf,x=w&&w(w(_([])));x&&x!==r&&n.call(x,i)&&(b=x);var O=m.prototype=d.prototype=Object.create(b);function k(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function E(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,E(t,r),"throw"===r.method))return g;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=f(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function _(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:A}}function A(){return{value:e,done:!0}}return y.prototype=O.constructor=m,m.constructor=y,y.displayName=u(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},t.awrap=function(t){return{__await:t}},k(S.prototype),S.prototype[a]=function(){return this},t.AsyncIterator=S,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new S(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(O),u(O,c,"Generator"),O[i]=function(){return this},O.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=_,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:_(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}));function ei(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}var ri=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ei(i,n,o,a,c,"next",t)}function c(t){ei(i,n,o,a,c,"throw",t)}a(void 0)}))}};var ni=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};function oi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ii=function(t,e,r){return e&&oi(t.prototype,e),r&&oi(t,r),t},ai=_.f,ci=Function.prototype,ui=ci.toString,si=/^\s*function ([^ (]*)/;function fi(t){return"number"==typeof t&&(t==t&&t!==1/0&&t!==-1/0)}function li(t,e,r){if(!fi(e))throw new TypeError("Expected `limit` to be a finite number");if(!fi(r))throw new TypeError("Expected `interval` to be a finite number");var n=[],o=[],i=0,a=function e(){i++;var a=setTimeout((function(){i--,n.length>0&&e(),o=o.filter((function(t){return t!==a}))}),r);o.indexOf(a)<0&&o.push(a);var c=n.shift();c.resolve(t.apply(c.self,c.args))},c=function(){var t=arguments,r=this;return new Promise((function(o,c){n.push({resolve:o,reject:c,args:t,self:r}),i<e&&a()}))};return c.abort=function(){o.forEach(clearTimeout),o=[],n.forEach((function(t){t.reject(new throttle.AbortError)})),n.length=0},c}a&&!("name"in ci)&&ai(ci,"name",{configurable:!0,get:function(){try{return ui.call(this).match(si)[1]}catch(t){return""}}}),li.AbortError=function(){Error.call(this,"Throttled function aborted"),this.name="AbortError"};var pi=se.map,hi=Ke("map"),vi=rr("map");Rt({target:"Array",proto:!0,forced:!hi||!vi},{map:function(t){return pi(this,t,arguments.length>1?arguments[1]:void 0)}});var gi=[].reverse,di=[1,2];Rt({target:"Array",proto:!0,forced:String(di)===String(di.reverse())},{reverse:function(){return Ct(this)&&(this.length=this.length),gi.call(this)}});var yi=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return P(r),function(t){if(!y(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(r,n):r.__proto__=n,r}}():void 0),mi=_.f,bi=bt.f,wi=tt.set,xi=Xt("match"),Oi=o.RegExp,ki=Oi.prototype,Si=/a/g,Ei=/a/g,ji=new Oi(Si)!==Si,Pi=mo.UNSUPPORTED_Y;if(a&&_t("RegExp",!ji||Pi||i((function(){return Ei[xi]=!1,Oi(Si)!=Si||Oi(Ei)==Ei||"/a/i"!=Oi(Si,"i")})))){for(var Ti=function(t,e){var r,n=this instanceof Ti,o=Co(t),i=void 0===e;if(!n&&o&&t.constructor===Ti&&i)return t;ji?o&&!i&&(t=t.source):t instanceof Ti&&(i&&(e=go.call(t)),t=t.source),Pi&&(r=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var a,c,u,s,f,l=(a=ji?new Oi(t,e):Oi(t,e),c=n?this:ki,u=Ti,yi&&"function"==typeof(s=c.constructor)&&s!==u&&y(f=s.prototype)&&f!==u.prototype&&yi(a,f),a);return Pi&&r&&wi(l,{sticky:r}),l},_i=function(t){t in Ti||mi(Ti,t,{configurable:!0,get:function(){return Oi[t]},set:function(e){Oi[t]=e}})},Ai=bi(Oi),Ri=0;Ai.length>Ri;)_i(Ai[Ri++]);ki.constructor=Ti,Ti.prototype=ki,et(o,"RegExp",Ti)}$r("RegExp");var Li=RegExp.prototype,Ii=Li.toString,Ci=i((function(){return"/a/b"!=Ii.call({source:"a",flags:"b"})})),Mi="toString"!=Ii.name;(Ci||Mi)&&et(RegExp.prototype,"toString",(function(){var t=P(this),e=String(t.source),r=t.flags;return"/"+e+"/"+String(void 0===r&&t instanceof RegExp&&!("flags"in Li)?go.call(t):r)}),{unsafe:!0});var Ni=Math.max,Di=Math.min,Fi=Math.floor,Ui=/\$([$&'`]|\d\d?|<[^>]*>)/g,Gi=/\$([$&'`]|\d\d?)/g;Lo("replace",2,(function(t,e,r,n){var o=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,i=n.REPLACE_KEEPS_$0,a=o?"$":"$0";return[function(r,n){var o=g(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,o,n):e.call(String(o),r,n)},function(t,n){if(!o&&i||"string"==typeof n&&-1===n.indexOf(a)){var u=r(e,t,this,n);if(u.done)return u.value}var s=P(t),f=String(this),l="function"==typeof n;l||(n=String(n));var p=s.global;if(p){var h=s.unicode;s.lastIndex=0}for(var v=[];;){var g=Uo(s,f);if(null===g)break;if(v.push(g),!p)break;""===String(g[0])&&(s.lastIndex=Fo(f,st(s.lastIndex),h))}for(var d,y="",m=0,b=0;b<v.length;b++){g=v[b];for(var w=String(g[0]),x=Ni(Di(ct(g.index),f.length),0),O=[],k=1;k<g.length;k++)O.push(void 0===(d=g[k])?d:String(d));var S=g.groups;if(l){var E=[w].concat(O,x,f);void 0!==S&&E.push(S);var j=String(n.apply(void 0,E))}else j=c(w,f,x,O,S,n);x>=m&&(y+=f.slice(m,x)+j,m=x+w.length)}return y+f.slice(m)}];function c(t,r,n,o,i,a){var c=n+t.length,u=o.length,s=Gi;return void 0!==i&&(i=Mt(i),s=Ui),e.call(a,s,(function(e,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,n);case"'":return r.slice(c);case"<":s=i[a.slice(1,-1)];break;default:var f=+a;if(0===f)return e;if(f>u){var l=Fi(f/10);return 0===l?e:l<=u?void 0===o[l-1]?a.charAt(1):o[l-1]+a.charAt(1):e}s=o[f-1]}return void 0===s?"":s}))}}));var $i=/"/g;function qi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}Rt({target:"String",proto:!0,forced:function(t){return i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}("anchor")},{anchor:function(t){return e="a",r="name",n=t,o=String(g(this)),i="<"+e,""!==r&&(i+=" "+r+'="'+String(n).replace($i,"&quot;")+'"'),i+">"+o+"</"+e+">";var e,r,n,o,i}});var Vi=function(t,e){if(!t)return null;var r={};for(var n in t){var o=t[n];e.indexOf(n)>-1&&null!==o&&(r[n]=o)}return r},Bi={nodes:{horizontal_rule:function(t){return{singleTag:"hr"}},blockquote:function(t){return{tag:"blockquote"}},bullet_list:function(t){return{tag:"ul"}},code_block:function(t){return{tag:["pre",{tag:"code",attrs:t.attrs}]}},hard_break:function(t){return{singleTag:"br"}},heading:function(t){return{tag:"h".concat(t.attrs.level)}},image:function(t){return{singleTag:[{tag:"img",attrs:Vi(t.attrs,["src","alt","title"])}]}},list_item:function(t){return{tag:"li"}},ordered_list:function(t){return{tag:"ol"}},paragraph:function(t){return{tag:"p"}}},marks:{bold:function(){return{tag:"b"}},strike:function(){return{tag:"strike"}},underline:function(){return{tag:"u"}},strong:function(){return{tag:"strong"}},code:function(){return{tag:"code"}},italic:function(){return{tag:"i"}},link:function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qi(Object(r),!0).forEach((function(e){Ho(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t.attrs),r=t.attrs.linktype;return"email"===(void 0===r?"url":r)&&(e.href="mailto:".concat(e.href)),e.anchor&&(e.href="".concat(e.href,"#").concat(e.anchor),delete e.anchor),{tag:[{tag:"a",attrs:e}]}},styled:function(t){return{tag:[{tag:"span",attrs:t.attrs}]}}}},zi=function(){function t(e){ni(this,t),e||(e=Bi),this.marks=e.marks||[],this.nodes=e.nodes||[]}return ii(t,[{key:"addNode",value:function(t,e){this.nodes[t]=e}},{key:"addMark",value:function(t,e){this.marks[t]=e}},{key:"render",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.content&&Array.isArray(e.content)){var r="";return e.content.forEach((function(e){r+=t.renderNode(e)})),r}return console.warn("The render method must receive an object with a content field, which is an array"),""}},{key:"renderNode",value:function(t){var e=this,r=[];t.marks&&t.marks.forEach((function(t){var n=e.getMatchingMark(t);n&&r.push(e.renderOpeningTag(n.tag))}));var n,o,i,a,c=this.getMatchingNode(t);return c&&c.tag&&r.push(this.renderOpeningTag(c.tag)),t.content?t.content.forEach((function(t){r.push(e.renderNode(t))})):t.text?r.push((n=t.text,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i=/[&<>"']/g,a=RegExp(i.source),n&&a.test(n)?n.replace(i,(function(t){return o[t]})):n)):c&&c.singleTag?r.push(this.renderTag(c.singleTag," /")):c&&c.html&&r.push(c.html),c&&c.tag&&r.push(this.renderClosingTag(c.tag)),t.marks&&t.marks.slice(0).reverse().forEach((function(t){var n=e.getMatchingMark(t);n&&r.push(e.renderClosingTag(n.tag))})),r.join("")}},{key:"renderTag",value:function(t,e){return t.constructor===String?"<".concat(t).concat(e,">"):t.map((function(t){if(t.constructor===String)return"<".concat(t).concat(e,">");var r="<".concat(t.tag);if(t.attrs)for(var n in t.attrs){var o=t.attrs[n];null!==o&&(r+=" ".concat(n,'="').concat(o,'"'))}return"".concat(r).concat(e,">")})).join("")}},{key:"renderOpeningTag",value:function(t){return this.renderTag(t,"")}},{key:"renderClosingTag",value:function(t){return t.constructor===String?"</".concat(t,">"):t.slice(0).reverse().map((function(t){return t.constructor===String?"</".concat(t,">"):"</".concat(t.tag,">")})).join("")}},{key:"getMatchingNode",value:function(t){if("function"==typeof this.nodes[t.type])return this.nodes[t.type](t)}},{key:"getMatchingMark",value:function(t){if("function"==typeof this.marks[t.type])return this.marks[t.type](t)}}]),t}(),Yi=Xt("unscopables"),Hi=Array.prototype;null==Hi[Yi]&&_.f(Hi,Yi,{configurable:!0,value:Vt(null)});var Ki,Wi,Ji,Xi=function(t){Hi[Yi][t]=!0},Qi=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Zi=z("IE_PROTO"),ta=Object.prototype,ea=Qi?Object.getPrototypeOf:function(t){return t=Mt(t),w(t,Zi)?t[Zi]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ta:null},ra=Xt("iterator"),na=!1;[].keys&&("next"in(Ji=[].keys())?(Wi=ea(ea(Ji)))!==Object.prototype&&(Ki=Wi):na=!0),null==Ki&&(Ki={}),w(Ki,ra)||A(Ki,ra,(function(){return this}));var oa={IteratorPrototype:Ki,BUGGY_SAFARI_ITERATORS:na},ia=oa.IteratorPrototype,aa=function(){return this},ca=oa.IteratorPrototype,ua=oa.BUGGY_SAFARI_ITERATORS,sa=Xt("iterator"),fa=function(){return this},la=function(t,e,r,n,o,i,a){!function(t,e,r){var n=e+" Iterator";t.prototype=Vt(ia,{next:f(1,r)}),re(t,n,!1),qr[n]=aa}(r,e,n);var c,u,s,l=function(t){if(t===o&&d)return d;if(!ua&&t in v)return v[t];switch(t){case"keys":case"values":case"entries":return function(){return new r(this,t)}}return function(){return new r(this)}},p=e+" Iterator",h=!1,v=t.prototype,g=v[sa]||v["@@iterator"]||o&&v[o],d=!ua&&g||l(o),y="Array"==e&&v.entries||g;if(y&&(c=ea(y.call(new t)),ca!==Object.prototype&&c.next&&(ea(c)!==ca&&(yi?yi(c,ca):"function"!=typeof c[sa]&&A(c,sa,fa)),re(c,p,!0))),"values"==o&&g&&"values"!==g.name&&(h=!0,d=function(){return g.call(this)}),v[sa]!==d&&A(v,sa,d),qr[e]=d,o)if(u={values:l("values"),keys:i?d:l("keys"),entries:l("entries")},a)for(s in u)(ua||h||!(s in v))&&et(v,s,u[s]);else Rt({target:e,proto:!0,forced:ua||h},u);return u},pa=tt.set,ha=tt.getterFor("Array Iterator"),va=la(Array,"Array",(function(t,e){pa(this,{type:"Array Iterator",target:d(t),index:0,kind:e})}),(function(){var t=ha(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");qr.Arguments=qr.Array,Xi("keys"),Xi("values"),Xi("entries");var ga=function(t){return function(e,r,n,o){ne(r);var i=Mt(e),a=v(i),c=st(i.length),u=t?c-1:0,s=t?-1:1;if(n<2)for(;;){if(u in a){o=a[u],u+=s;break}if(u+=s,t?u<0:c<=u)throw TypeError("Reduce of empty array with no initial value")}for(;t?u>=0:c>u;u+=s)u in a&&(o=r(o,a[u],u,i));return o}},da={left:ga(!1),right:ga(!0)}.left,ya=ar("reduce"),ma=rr("reduce",{1:0});Rt({target:"Array",proto:!0,forced:!ya||!ma},{reduce:function(t){return da(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var ba=No.charAt,wa=tt.set,xa=tt.getterFor("String Iterator");la(String,"String",(function(t){wa(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=xa(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=ba(r,n),e.index+=t.length,{value:t,done:!1})}));var Oa=Xt("iterator"),ka=Xt("toStringTag"),Sa=va.values;for(var Ea in Vo){var ja=o[Ea],Pa=ja&&ja.prototype;if(Pa){if(Pa[Oa]!==Sa)try{A(Pa,Oa,Sa)}catch(t){Pa[Oa]=Sa}if(Pa[ka]||A(Pa,ka,Ea),Vo[Ea])for(var Ta in va)if(Pa[Ta]!==va[Ta])try{A(Pa,Ta,va[Ta])}catch(t){Pa[Ta]=va[Ta]}}}var _a=r((function(t){function e(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(r)}t.exports=e}));function Aa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ra(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Aa(Object(r),!0).forEach((function(e){Ho(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Aa(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var La=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.indexOf("/cdn/")>-1},Ia=function(t){return new Promise((function(e){return setTimeout(e,t)}))},Ca=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return Zo(Array(t)).map(e)},Ma=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=Math.abs(e-t)||0,n=t<e?1:-1;return Ca(r,(function(e,r){return r*n+t}))},Na=function(){var t=ri(ti.mark((function t(){var e,r,n=arguments;return ti.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:[],r=n.length>1?n[1]:void 0,t.abrupt("return",Promise.all(e.map(r)));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Da=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return t.map(e).reduce((function(t,e){return[].concat(Zo(t),Zo(e))}),[])},Fa=function t(e,r,n){var o=[];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=e[i],c=n?"":encodeURIComponent(i),u=void 0;u="object"===_a(a)?t(a,r?r+encodeURIComponent("["+c+"]"):c,Array.isArray(a)):(r?r+encodeURIComponent("["+c+"]"):c)+"="+encodeURIComponent(a),o.push(u)}return o.join("&")};function Ua(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ga(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ua(Object(r),!0).forEach((function(e){Ho(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ua(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var $a={},qa={},Va=function(){function e(r,n){if(ni(this,e),!n){var o=r.region?"-".concat(r.region):"",i=!1===r.https?"http":"https";n=void 0===r.oauthToken?"".concat(i,"://api").concat(o,".storyblok.com/v2"):"".concat(i,"://api").concat(o,".storyblok.com/v1")}var a=Object.assign({},r.headers),c=5;void 0!==r.oauthToken&&(a.Authorization=r.oauthToken,c=3),void 0!==r.rateLimit&&(c=r.rateLimit),this.richTextResolver=new zi(r.richTextSchema),"function"==typeof r.componentResolver&&this.setComponentResolver(r.componentResolver),this.maxRetries=r.maxRetries||5,this.throttle=li(this.throttledRequest,c,1e3),this.accessToken=r.accessToken,this.relations={},this.links={},this.cache=r.cache||{clear:"manual"},this.client=t.create({baseURL:n,timeout:r.timeout||0,headers:a,proxy:r.proxy||!1}),r.responseInterceptor&&this.client.interceptors.response.use((function(t){return r.responseInterceptor(t)}))}var r,n,o,i,a;return ii(e,[{key:"setComponentResolver",value:function(t){this.richTextResolver.addNode("blok",(function(e){var r="";return e.attrs.body.forEach((function(e){r+=t(e.component,e)})),{html:r}}))}},{key:"parseParams",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.version||(t.version="published"),t.token||(t.token=this.getToken()),t.cv||(t.cv=qa[t.token]),Array.isArray(t.resolve_relations)&&(t.resolve_relations=t.resolve_relations.join(",")),t}},{key:"factoryParamOptions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return La(t)?this.parseParams(e):e}},{key:"makeRequest",value:function(t,e,r,n){var o=this.factoryParamOptions(t,function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Ra(Ra({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{per_page:t,page:e})}(e,r,n));return this.cacheResponse(t,o)}},{key:"get",value:function(t,e){var r="/".concat(t),n=this.factoryParamOptions(r,e);return this.cacheResponse(r,n)}},{key:"getAll",value:(a=ri(ti.mark((function t(e){var r,n,o,i,a,c,u,s,f,l=this,p=arguments;return ti.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=p.length>1&&void 0!==p[1]?p[1]:{},n=p.length>2?p[2]:void 0,o=r.per_page||25,i="/".concat(e),a=i.split("/"),n=n||a[a.length-1],c=1,t.next=9,this.makeRequest(i,r,o,c);case 9:return u=t.sent,s=Math.ceil(u.total/o),t.next=13,Na(Ma(c,s),function(){var t=ri(ti.mark((function t(e){return ti.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",l.makeRequest(i,r,o,e+1));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 13:return f=t.sent,t.abrupt("return",Da([u].concat(Zo(f)),(function(t){return Object.values(t.data[n])})));case 15:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"post",value:function(t,e){var r="/".concat(t);return this.throttle("post",r,e)}},{key:"put",value:function(t,e){var r="/".concat(t);return this.throttle("put",r,e)}},{key:"delete",value:function(t,e){var r="/".concat(t);return this.throttle("delete",r,e)}},{key:"getStories",value:function(t){return this.get("cdn/stories",t)}},{key:"getStory",value:function(t,e){return this.get("cdn/stories/".concat(t),e)}},{key:"setToken",value:function(t){this.accessToken=t}},{key:"getToken",value:function(){return this.accessToken}},{key:"_cleanCopy",value:function(t){return JSON.parse(JSON.stringify(t))}},{key:"_insertLinks",value:function(t,e){var r=t[e];r&&"multilink"==r.fieldtype&&"story"==r.linktype&&"string"==typeof r.id&&this.links[r.id]?r.story=this._cleanCopy(this.links[r.id]):r&&"story"===r.linktype&&"string"==typeof r.uuid&&this.links[r.uuid]&&(r.story=this._cleanCopy(this.links[r.uuid]))}},{key:"_insertRelations",value:function(t,e,r){var n=this;if(r.indexOf(t.component+"."+e)>-1)if("string"==typeof t[e])this.relations[t[e]]&&(t[e]=this._cleanCopy(this.relations[t[e]]));else if(t[e].constructor===Array){var o=[];t[e].forEach((function(t){n.relations[t]&&o.push(n._cleanCopy(n.relations[t]))})),t[e]=o}}},{key:"iterateTree",value:function(t,e){var r=this;!function t(n){if(null!=n)if(n.constructor===Array)for(var o=0;o<n.length;o++)t(n[o]);else if(n.constructor===Object){if(n._stopResolving)return;for(var i in n)(n.component&&n._uid||"link"===n.type)&&(r._insertRelations(n,i,e),r._insertLinks(n,i)),t(n[i])}}(t.content)}},{key:"resolveLinks",value:(i=ri(ti.mark((function t(e,r){var n,o,i,a,c,u,s,f=this;return ti.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],!e.link_uuids){t.next=17;break}for(o=e.link_uuids.length,i=[],a=50,c=0;c<o;c+=a)u=Math.min(o,c+a),i.push(e.link_uuids.slice(c,u));s=0;case 7:if(!(s<i.length)){t.next=15;break}return t.next=10,this.getStories({per_page:a,language:r.language,version:r.version,by_uuids:i[s].join(",")});case 10:t.sent.data.stories.forEach((function(t){n.push(t)}));case 12:s++,t.next=7;break;case 15:t.next=18;break;case 17:n=e.links;case 18:n.forEach((function(t){f.links[t.uuid]=Ga(Ga({},t),{_stopResolving:!0})}));case 19:case"end":return t.stop()}}),t,this)}))),function(t,e){return i.apply(this,arguments)})},{key:"resolveRelations",value:(o=ri(ti.mark((function t(e,r){var n,o,i,a,c,u,s,f=this;return ti.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],!e.rel_uuids){t.next=17;break}for(o=e.rel_uuids.length,i=[],a=50,c=0;c<o;c+=a)u=Math.min(o,c+a),i.push(e.rel_uuids.slice(c,u));s=0;case 7:if(!(s<i.length)){t.next=15;break}return t.next=10,this.getStories({per_page:a,language:r.language,version:r.version,by_uuids:i[s].join(",")});case 10:t.sent.data.stories.forEach((function(t){n.push(t)}));case 12:s++,t.next=7;break;case 15:t.next=18;break;case 17:n=e.rels;case 18:n.forEach((function(t){f.relations[t.uuid]=Ga(Ga({},t),{_stopResolving:!0})}));case 19:case"end":return t.stop()}}),t,this)}))),function(t,e){return o.apply(this,arguments)})},{key:"resolveStories",value:(n=ri(ti.mark((function t(e,r){var n,o,i=this;return ti.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],!(void 0!==r.resolve_relations&&r.resolve_relations.length>0)){t.next=5;break}return n=r.resolve_relations.split(","),t.next=5,this.resolveRelations(e,r);case 5:if(!(["1","story","url"].indexOf(r.resolve_links)>-1)){t.next=8;break}return t.next=8,this.resolveLinks(e,r);case 8:for(o in this.relations)this.iterateTree(this.relations[o],n);e.story?this.iterateTree(e.story,n):e.stories.forEach((function(t){i.iterateTree(t,n)}));case 10:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"cacheResponse",value:function(t,e,r){var n=this;return void 0===r&&(r=0),new Promise(function(){var o=ri(ti.mark((function o(i,a){var c,u,s,f,l;return ti.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(c=Fa({url:t,params:e}),u=n.cacheProvider(),"auto"!==n.cache.clear||"draft"!==e.version){o.next=5;break}return o.next=5,n.flushCache();case 5:if("published"!==e.version||"/cdn/spaces/me"==t){o.next=11;break}return o.next=8,u.get(c);case 8:if(!(s=o.sent)){o.next=11;break}return o.abrupt("return",i(s));case 11:return o.prev=11,o.next=14,n.throttle("get",t,{params:e,paramsSerializer:function(t){return Fa(t)}});case 14:if(f=o.sent,l={data:f.data,headers:f.headers},f.headers["per-page"]&&(l=Object.assign({},l,{perPage:parseInt(f.headers["per-page"]),total:parseInt(f.headers.total)})),200==f.status){o.next=19;break}return o.abrupt("return",a(f));case 19:if(!l.data.story&&!l.data.stories){o.next=22;break}return o.next=22,n.resolveStories(l.data,e);case 22:"published"===e.version&&"/cdn/spaces/me"!=t&&u.set(c,l),l.data.cv&&("draft"==e.version&&qa[e.token]!=l.data.cv&&n.flushCache(),qa[e.token]=l.data.cv),i(l),o.next=37;break;case 27:if(o.prev=27,o.t0=o.catch(11),!o.t0.response||429!==o.t0.response.status){o.next=36;break}if(!((r+=1)<n.maxRetries)){o.next=36;break}return console.log("Hit rate limit. Retrying in ".concat(r," seconds.")),o.next=35,Ia(1e3*r);case 35:return o.abrupt("return",n.cacheResponse(t,e,r).then(i).catch(a));case 36:a(o.t0);case 37:case"end":return o.stop()}}),o,null,[[11,27]])})));return function(t,e){return o.apply(this,arguments)}}())}},{key:"throttledRequest",value:function(t,e,r){return this.client[t](e,r)}},{key:"cacheVersions",value:function(){return qa}},{key:"cacheVersion",value:function(){return qa[this.accessToken]}},{key:"setCacheVersion",value:function(t){this.accessToken&&(qa[this.accessToken]=t)}},{key:"cacheProvider",value:function(){switch(this.cache.type){case"memory":return{get:function(t){return $a[t]},getAll:function(){return $a},set:function(t,e){$a[t]=e},flush:function(){$a={}}};default:return{get:function(){},getAll:function(){},set:function(){},flush:function(){}}}}},{key:"flushCache",value:(r=ri(ti.mark((function t(){return ti.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.cacheProvider().flush();case 2:return t.abrupt("return",this);case 3:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}]),e}();export default Va;
